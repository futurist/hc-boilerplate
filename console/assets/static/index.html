<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>index.jsx-document</title>
  <link rel="stylesheet" type="text/css" href="docco.css">
  <style>
    .code .highlight{
      position: relative;
      display: inline-block;
      width: 100%;
    }
    .code .highlight pre{
      width: 98%;
    }
    .code .highlight .link{
      position: absolute;
      top: 6px;
      left: -6px;
      text-decoration: none;
      padding: 2px 4px;
      border: 1px solid #0088cc;
      background: #6666ff;
      color: white;
      line-height: 5px;
      border-radius: 1px;
    }
    .code .highlight .link.open{
      padding: 4px 4px 2px;
    }
    .code .highlight .link:hover{
      background: #0088cc
    }
    .code .highlight .close:after{
      font-family: "fleurons";
      content: "-";
    }
    .code .highlight .open:after{
      font-family: "fleurons";
      content: "+";
    }
    .code .highlight pre.narrow{
      overflow: hidden;
      height: 34px;
    }
    pre.narrow:before{
      position: absolute;
      margin-top: -4px;
      color: #f50;
      content: '...';
    }
    #J_iframe{
      width: 1000px;
      height: 80%;
      max-height: 600px;
      position: absolute;
      background: white;
      top: 70px;
      left: 240px;
      visibility: hidden;
      border: 1px solid gray;
      z-index: 100000;
    }
    
  </style>
</head>
<body>
<div id='container'>
  <div id="background"></div>
  
  <div id="jump_to">
    Jump To &hellip;
    <div id="jump_wrapper">
      <div id="jump_page">
        
          
          <a class="source" href="account_login_index.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/account/login/index.jsx
          </a>
        
          
          <a class="source" href="account_signup_index.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/account/signup/index.jsx
          </a>
        
          
          <a class="source" href="content_baseList_index.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/content/baseList/index.jsx
          </a>
        
          
          <a class="source" href="dashboard_analysis_index.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/dashboard/analysis/index.jsx
          </a>
        
          
          <a class="source" href="detail_baseForm_index.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/detail/baseForm/index.jsx
          </a>
        
          
          <a class="source" href="feedback_exception_index.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/feedback/exception/index.jsx
          </a>
        
          
          <a class="source" href="feedback_flowResult_index.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/feedback/flowResult/index.jsx
          </a>
        
          
          <a class="source" href="feedback_result_index.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/feedback/result/index.jsx
          </a>
        
          
          <a class="source" href="feedback_trackResult_index.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/feedback/trackResult/index.jsx
          </a>
        
          
          <a class="source" href="index.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/index.jsx
          </a>
        
          
          <a class="source" href="viewSource.html">
            /Users/zhushengjia/Desktop/drive/projects/f2e/naza/hc-boilerplate-console/assets/scenes/viewSource.jsx
          </a>
        
      </div>
    </div>
  </div>
  
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class="docs" colspan="2"><h1>index.jsx <a href="javascript:;" id="J_demo">demo</a>
        <iframe id="J_iframe" src="" frameborder="0" scrolling="auto" ></iframe></h1>
      </th>
    </tr>
  </thead>
  <tbody>
    
    
    <tr id='section-1'>
      
      <td class="docs header-docs" colspan="2">
        <div class="pilwrap ">
          <a class="pilcrow" href="#section-1">&#182;</a>
        </div>
        
      </td>
      
      <td class="code">
        <div class='highlight'><pre><div class='highlight'><pre><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> PropTypes <span class="hljs-keyword">from</span> <span class="hljs-string">'prop-types'</span>;

<span class="hljs-keyword">import</span> Card <span class="hljs-keyword">from</span> <span class="hljs-string">'antd/lib/card'</span>;
<span class="hljs-keyword">import</span> Modal <span class="hljs-keyword">from</span> <span class="hljs-string">'antd/lib/modal'</span>;

<span class="hljs-keyword">import</span> Beatle <span class="hljs-keyword">from</span> <span class="hljs-string">'beatle'</span>;
<span class="hljs-keyword">import</span> DocumentTitle <span class="hljs-keyword">from</span> <span class="hljs-string">'react-document-title'</span>;
<span class="hljs-keyword">import</span> {ContainerQuery} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-container-query/dist/react-container-query'</span>;
<span class="hljs-keyword">import</span> classNames <span class="hljs-keyword">from</span> <span class="hljs-string">'classnames'</span>;

<span class="hljs-keyword">import</span> {browserHistory} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router'</span>;
<span class="hljs-keyword">import</span> {getLayout, GModal} <span class="hljs-keyword">from</span> <span class="hljs-string">'hc-components'</span>;
<span class="hljs-keyword">import</span> ViewSource <span class="hljs-keyword">from</span> <span class="hljs-string">'./viewSource'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./index.less'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Root</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">PureComponent</span> </span>{
  <span class="hljs-keyword">static</span> routeOptions = <span class="hljs-literal">true</span>;

  <span class="hljs-keyword">static</span> propTypes = {
    <span class="hljs-attr">children</span>: PropTypes.node,
    <span class="hljs-attr">user</span>: PropTypes.object
  }

  state = {
    <span class="hljs-attr">fpath</span>: <span class="hljs-literal">null</span>
  }

  componentDidMount() {
    <span class="hljs-keyword">this</span>.props.user.getProfile();
    browserHistory.listen(<span class="hljs-function"><span class="hljs-params">location</span> =&gt;</span>  {
      <span class="hljs-keyword">const</span> route = Beatle.route(location.pathname) || Beatle.route(location.pathname.slice(<span class="hljs-number">1</span>));
      <span class="hljs-keyword">this</span>.setState({
        <span class="hljs-attr">fpath</span>: route &amp;&amp; route.fpath
      });
    });
  }

  mediaQuery = {
    <span class="hljs-string">'screen-xs'</span>: {
      <span class="hljs-attr">maxWidth</span>: <span class="hljs-number">575</span>,
    },
    <span class="hljs-string">'screen-sm'</span>: {
      <span class="hljs-attr">minWidth</span>: <span class="hljs-number">576</span>,
      <span class="hljs-attr">maxWidth</span>: <span class="hljs-number">767</span>,
    },
    <span class="hljs-string">'screen-md'</span>: {
      <span class="hljs-attr">minWidth</span>: <span class="hljs-number">768</span>,
      <span class="hljs-attr">maxWidth</span>: <span class="hljs-number">991</span>,
    },
    <span class="hljs-string">'screen-lg'</span>: {
      <span class="hljs-attr">minWidth</span>: <span class="hljs-number">992</span>,
      <span class="hljs-attr">maxWidth</span>: <span class="hljs-number">1199</span>,
    },
    <span class="hljs-string">'screen-xl'</span>: {
      <span class="hljs-attr">minWidth</span>: <span class="hljs-number">1200</span>,
    },
  };

  getRoutes() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.routes) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.routes;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">const</span> arr = [];
      <span class="hljs-keyword">const</span> routes = Beatle.getRoutes()[<span class="hljs-number">0</span>].childRoutes || [];
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.routes = routes.sort(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> arr.indexOf(a.name) - arr.indexOf(b.name);
      });
    }
  }

  get layoutOption() {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">routes</span>: <span class="hljs-keyword">this</span>.getRoutes(),
      <span class="hljs-attr">subRoutes</span>: {
        <span class="hljs-attr">account</span>: {
          <span class="hljs-attr">icon</span>: <span class="hljs-string">'user'</span>,
          <span class="hljs-attr">title</span>: <span class="hljs-string">'账户'</span>
        },
        <span class="hljs-attr">dashboard</span>: {
          <span class="hljs-attr">icon</span>: <span class="hljs-string">'dashboard'</span>,
          <span class="hljs-attr">title</span>: <span class="hljs-string">'仪表板'</span>
        },
        <span class="hljs-attr">content</span>: {
          <span class="hljs-attr">icon</span>: <span class="hljs-string">'table'</span>,
          <span class="hljs-attr">title</span>: <span class="hljs-string">'列表页'</span>
        },
        <span class="hljs-attr">detail</span>: {
          <span class="hljs-attr">icon</span>: <span class="hljs-string">'profile'</span>,
          <span class="hljs-attr">title</span>: <span class="hljs-string">'详情页'</span>
        },
        <span class="hljs-attr">form</span>: {
          <span class="hljs-attr">icon</span>: <span class="hljs-string">'form'</span>,
          <span class="hljs-attr">title</span>: <span class="hljs-string">'表单页'</span>
        },
        <span class="hljs-attr">feedback</span>: {
          <span class="hljs-attr">icon</span>: <span class="hljs-string">'check-circle-o'</span>,
          <span class="hljs-attr">title</span>: <span class="hljs-string">'反馈'</span>
        }
      },
      <span class="hljs-attr">components</span>: {
        <span class="hljs-attr">Header</span>: {
          <span class="hljs-attr">nick</span>: <span class="hljs-keyword">this</span>.props.user.profile.name,
          <span class="hljs-attr">avatar</span>: <span class="hljs-keyword">this</span>.props.user.profile.avatar
        },
        <span class="hljs-attr">Sider</span>: {
          <span class="hljs-attr">brand</span>: {
            <span class="hljs-attr">logo</span>: <span class="hljs-string">'https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg'</span>,
            <span class="hljs-attr">title</span>: <span class="hljs-string">'Beatle App'</span>
          },
          <span class="hljs-attr">getResolvePath</span>: Beatle.getResolvePath
        },
        <span class="hljs-attr">Brand</span>: {
          <span class="hljs-attr">logo</span>: <span class="hljs-string">'https://img.alicdn.com/tfs/TB131CMk5qAXuNjy1XdXXaYcVXa-32-32.svg'</span>,
          <span class="hljs-attr">title</span>: <span class="hljs-string">'Beatle App'</span>
        },
        <span class="hljs-attr">Footer</span>: {
          <span class="hljs-attr">links</span>: [
            {
              <span class="hljs-attr">title</span>: <span class="hljs-string">'帮助'</span>,
              <span class="hljs-attr">href</span>: <span class="hljs-string">''</span>
            }, {
              <span class="hljs-attr">title</span>: <span class="hljs-string">'隐私'</span>,
              <span class="hljs-attr">href</span>: <span class="hljs-string">''</span>
            }, {
              <span class="hljs-attr">title</span>: <span class="hljs-string">'条款'</span>,
              <span class="hljs-attr">href</span>: <span class="hljs-string">''</span>,
              <span class="hljs-attr">blankTarget</span>: <span class="hljs-literal">true</span>
            }
          ],
          <span class="hljs-attr">copyright</span>: (&lt;div&gt;
            Beatle-Group 样板库
            &lt;ViewSource file={this.state.fpath} /&gt;
          &lt;/div&gt;)
        },
        Link: Beatle.Link
      }
    };
  }

  renderOviewview() {
    return (
      &lt;Card&gt;&lt;img src="https://img.alicdn.com/tfs/TB1aJyMk5qAXuNjy1XdXXaYcVXa-750-3883.png" /&gt;&lt;/Card&gt;
    );
  }

  render() {
    const viewContent = this.props.children || this.renderOviewview();
    const route = this.props.children &amp;&amp; this.props.children.props.route;
    const layout = getLayout({
      layoutOption: this.layoutOption,
      layout: 'ConsoleLayout',
      route: route
    }, viewContent);
    return (
      &lt;DocumentTitle title={(route ? route.title + ' - ' : '') + '管控台'}&gt;
        &lt;ContainerQuery query={this.mediaQuery}&gt;
          {params =&gt; (&lt;div className={classNames(Object.assign(params, {'j-scene-root': true}))}&gt;{layout}&lt;GModal component={Modal} /&gt;&lt;/div&gt;)}
        &lt;/ContainerQuery&gt;
      &lt;/DocumentTitle&gt;
    );
  }
}

export default Beatle.connect(['user'], Root);</pre></div></pre><a href="javascript:;" class="link close"></a></div>
      </td>
      
    </tr>
    
  </table>
</div>
</body>
<script>
  (function(win){
    
    var addEvent = (function() {
      if (document.addEventListener) {
        return function(el, type, fn) {
          if (el.length) {
            for (var i = 0, len = el.length; i < len; i++) {
              addEvent(el[i], type, fn);
            }
          } else {
            el.addEventListener(type, fn, false);
          }
        };
      } else {
        return function(el, type, fn) {
          if (el.length) {
            for (var i = 0, len = el.length; i < len; i++) {
              addEvent(el[i], type, fn);
            }
          } else {
            el.attachEvent('on' + type, function() {
              return fn.call(el, window.event);
            });
          }
        };
      }
    })();
    
    if(document.getElementsByClassName){
      var links = document.getElementsByClassName('link');
      for(var i = links.length; i--;){
        (function(link){
          addEvent(link, 'click', function(ev){
            var pre = link.previousSibling;
            if(link.className.indexOf('open') > -1){
              link.className = link.className.replace('open', '') + ' close';
              pre.className = '';
            }else{
              link.className = link.className.replace('close', '') + ' open';
              pre.className = 'narrow';
            }
          });
        })(links[i]);
      }
    }
    
    var demo = document.getElementById('J_demo');
    var iframe = document.getElementById('J_iframe');
    addEvent(demo, 'click', function(ev){
      if(iframe.style.visibility === 'visible'){
        iframe.style.visibility = 'hidden'
      }else{
        iframe.style.visibility = 'visible'
      }
    });
  })(window);
</script>
</html>
